<script type="text/javascript">
function api_post(data,url,type) {
    var result = [];
    $.ajax({
        type: type,
        url: url,
        data: data,
        datatype: "JSON",
        async: false,
        success: function(res){
            $.each(res, function(index,value){
                result[index]=value;
            });
        },
        error: function(res){
            // console.log(res.msg);
            result = res.msg;
        }
    });
    return result;
}
$(document).on('click', 'th', function() {
    var table = $(this).parents('table').eq(0);
    var rows = table.find('tr:gt(0)').toArray().sort(comparer($(this).index()));
    this.asc = !this.asc;
    if (!this.asc) {
        rows = rows.reverse();
    }
    table.children('tbody').empty().html(rows);
});
function comparer(index) {
    return function(a, b) {
        var valA = getCellValue(a, index),
        valB = getCellValue(b, index);
        return $.isNumeric(valA) && $.isNumeric(valB) ?
            valA - valB : valA.localeCompare(valB);
    };
}
function getCellValue(row, index) {
    return $(row).children('td').eq(index).text();
}
</script>
</html>